{% extends "layout.html" %}
{% block title %} LB Dashboard {% endblock %}
{% block main %}


<section class="dashboard">
    <div class="container">
        <form method="POST" action="" enctype="multipart/form-data">
            <h1>LifeBuddy Dashboard</h1>
            <div class="current_chart_div">
                <label><h3>Personal Timeline</h3></label>
                <div class="bokeh_div">
                    {{ div1|safe }}
                </div>
            </div>

            <div class="buttons">
                <button type="button" class="btn btn-primary btn_blue1" data-bs-toggle="modal" data-bs-target="#activityModal">
                    Add Activity
                </button>

                <button type="submit" class="btn btn-primary btn_green1" name="submit_upload_health" value=True>
                    Upload Health Data
                </button>

                <button type="button" class="btn btn-primary btn_blue1" data-bs-toggle="modal" data-bs-target="#activityModal">
                    Add Weight
                </button>
            </div>


    <!-- Modal -->
      <div class="modal fade" id="activityModal" tabindex="-1" aria-labelledby="activityModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content ">
            <div class="modal-header modal_header_add">
              <h5 class="modal-title" id="activityModalLabel">Enter Activity</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body modal_body_add ">
                <div class="enter_activity_sub">
                    <div>
                        <label>Date:</label>
                        <input type="date" value="{{ default_date }}" name="activity_date">
                        <label>Time:</label>
                        <input type="time" value="{{ default_time }}" name="activity_time">
                    </div>
                    <div class="enter_activity_sub2">
                        <label>Activity:</label>
                        <input type="text" placeholder="required (30 char max)" name="var_activity">
                    </div>
                    <div class="enter_activity_sub2">
                        <label>Activity Notes:</label>
                        <textarea  name="activity_notes" rows=2  placeholder="optional"></textarea>
                    </div>
                    <div class="enter_activity_sub2">
                        <label>Weight (lbs):</label>
                        <input type="text" placeholder="optional" name="metric3">
                    </div>
                </div>
            </div>


            <div class="modal-footer modal_body_add">
                <button type="submit" class="btn btn-primary" name="submit_activity" value=True>
                    Submit Activity
                </button>
            </div>
          </div>
        </div>
      </div>





        </form>
        <form method="POST" action="" enctype="multipart/form-data">
            <div class="timeline_records_div">
                <label><h3>Timeline Records</h3></label>
                {% if no_hits_flag %}
                No Timeline records found
                {% else %}

                <div class="table_contents">
                    <table id="proxies" class="display table nowrap responsive" style="width:90%">
                        <thead>
                            <tr>
                                <th>Dash Id</th>
                                <th>Date</th>
                                <th>Activity</th>
                                <th>Cardio Performance</th>
 
                            </tr>
                        </thead>
                        <tbody>
                        {% for row in table_data %}
                            <tr>
                                <td><input type="submit" class="dash_id_button"
                                    name="view" value="{{ row[0] }}"></td>
                                {% for i in range(1,len(row)) %}
                                    <td ><div class="td_characteristics">
                                        {{ row[i] }}
                                    </div></td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                
                        </tbody>
                    </table>
                </div>
            {% endif %}




            </div>
        </form>



    </div>
</section>
<!--Table scripts-->
<!-- Datatable -->
<script src="../static/js/jquery-3.1.1.slim.min.js"></script>
<link rel="stylesheet" type="text/css" href="../static/css/css/jquery.dataTables.min.css">
<link rel="stylesheet" type="text/css" href="../static/css/css/responsive.dataTables.min.css">
<script src="../static/js/moment.min.js"></script>
<script type="text/javascript" src="../static/js/jquery.dataTables-1.1.20.min.js"></script>
<script type="text/javascript" src="../static/js/dataTables.responsive.min.js"></script>
<script type="text/javascript" src="../static/js/datetime.js"></script>
<script type="text/javascript">
    $('#proxies').DataTable();
</script>


<!--Modal scripts-->
<script src="../static/js/bootstrap.min.js"></script>
<script src="../static/js/jquery-3.5.1.js"></script>

<script src="{{ cdn_js[0] }}" crossorigin="anonymous"></script>
<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>

{{ script1|safe }}
{% endblock %}